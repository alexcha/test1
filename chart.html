<!DOCTYPE html>
<html>
<head>
    <title>ìŠ¤íŠ¸ë¦¬ë° ëª©ë¡ ì—…ë°ì´íŠ¸ ì°¨íŠ¸</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment@1.0.1/dist/chartjs-adapter-moment.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        #chartContainer { width: 90%; max-width: 1000px; margin: auto; }
    </style>
</head>
<body>
    <h1>ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„° ë³€í™” ì¶”ì´ (KST)</h1>
    <p>ìµœê·¼ ì—…ë°ì´íŠ¸ ì‹œê°„: 2025-10-30 21:45:14 KST</p>
    <div id="chartContainer">
        <canvas id="timeSeriesChart"></canvas>
    </div>
    
    <script>
    // ğŸš¨ ìˆ˜ì •: Bash ë³€ìˆ˜ë¥¼ JavaScript ë¬¸ìì—´ë¡œ ë°›ì•„ JSON.parseë¡œ ì²˜ë¦¬í•˜ì—¬ êµ¬ë¬¸ ì˜¤ë¥˜ ë°©ì§€
    // ì´ì¤‘ ë”°ì˜´í‘œ(")ë¡œ ê°ì‹¸ì„œ ë¬¸ìì—´ì„ì„ ëª…í™•íˆ í•©ë‹ˆë‹¤.
    const dataString = "{x: "2025-10-30 21:08:18 KST", y: 2133300}, x: "2025-10-30 21:09:23 KST", y: 2133300}, x: "2025-10-30 21:10:09 KST", y: 2133300}, x: "2025-10-30 21:38:29 KST", y: 2133300}, x: "2025-10-30 21:45:14 KST", y: 2133300}"; 
    const chartData = JSON.parse('[' + dataString + ']');

    const ctx = document.getElementById('timeSeriesChart').getContext('2d');
    
    new Chart(ctx, {
        type: 'line',
        data: {
            datasets: [{
                label: 'ê°’ ë³€í™” ì¶”ì´',
                data: chartData,
                borderColor: 'rgba(54, 162, 235, 1)',
                backgroundColor: 'rgba(54, 162, 235, 0.2)',
                borderWidth: 2,
                tension: 0.1,
                pointRadius: 3
            }]
        },
        options: {
            responsive: true,
            scales: {
                x: {
                    type: 'time',
                    adapters: {
                        date: {
                            zone: 'Asia/Seoul'
                        }
                    },
                    time: {
                        unit: 'hour',
                        tooltipFormat: 'yyyy-MM-dd HH:mm:ss KST',
                        displayFormats: {
                            hour: 'MM/DD HH:mm',
                            day: 'MM/DD'
                        }
                    },
                    title: { display: true, text: 'ì‹œê°„' }
                },
                y: {
                    title: { display: true, text: 'ê°’' },
                    beginAtZero: false,
                    ticks: {
                        callback: function(value) {
                            return value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                        }
                    }
                }
            },
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.y !== null) {
                                label += context.parsed.y.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                            }
                            return label;
                        }
                    }
                }
            }
        }
    });
    </script>
</body>
</html>
