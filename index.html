<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>주요 도구 통합 탭 보기</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter 폰트 설정 및 기본 스타일 */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
            /* body의 margin/padding 제거: 전체 화면 사용 보장 */
            margin: 0;
            padding: 0;
        }
        #app {
            min-height: 100vh;
        }

        /* ⭐️ 핵심 수정: iFrame 컨테이너의 높이를 화면 높이 - (최소화된) 상단 탭 높이로 강제 지정 */
        /* p-4(16px*2) + 최소화된 탭 영역(약 40px)을 고려하여 90px을 뺐습니다. */
        .iframe-fixed-height {
            height: calc(100vh - 90px); 
        }

        /* iFrame이 부모 높이를 채우도록 합니다. */
        .tab-pane iframe {
            width: 100%;
            height: 100%;
            border: 0;
        }
    </style>
</head>
<body class="flex flex-col">

    <div id="app" class="w-full max-w-4xl mx-auto p-4 flex flex-col">
        
        <div class="flex bg-white p-2 rounded-xl shadow-md space-x-2 mb-2 sticky top-0 z-10">
            <button id="tab-money"
                    class="tab-button flex-1 py-1 px-4 text-sm font-semibold rounded-lg transition-all duration-200"
                    data-tab="money">
                매출
            </button>
            <button id="tab-cal"
                    class="tab-button flex-1 py-1 px-4 text-sm font-semibold rounded-lg transition-all duration-200"
                    data-tab="cal">
                주식계산기
            </button>
            <button id="tab-cal2"
                    class="tab-button flex-1 py-1 px-4 text-sm font-semibold rounded-lg transition-all duration-200"
                    data-tab="cal2">
                물타기
            </button>
        </div>

        <div id="tab-content" class="bg-white p-0 rounded-xl shadow-xl overflow-hidden flex flex-col">

            <div id="content-money" class="tab-pane w-full overflow-y-auto iframe-fixed-height hidden">
                <iframe src="money.html"></iframe>
            </div>

            <div id="content-cal" class="tab-pane w-full overflow-y-auto iframe-fixed-height hidden">
                <iframe src="cal.html"></iframe>
            </div>
            
            <div id="content-cal2" class="tab-pane w-full overflow-y-auto iframe-fixed-height hidden">
                <iframe src="cal2.html"></iframe>
            </div>
            
            <div id="instruction-message" class="p-8 text-center text-gray-500">
                <p class="text-xl font-bold text-indigo-600">파일 내용을 보려면 탭을 선택하세요.</p>
                <p class="text-sm mt-3 border-t pt-3">
                    **주의:** 이 HTML 파일과 **같은 폴더**에 세 개의 파일이 있어야 합니다.
                </p>
            </div>

        </div>
    </div>

    <script>
        // JavaScript for Tab Functionality

        document.addEventListener('DOMContentLoaded', () => {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabPanes = document.querySelectorAll('.tab-pane');
            const instructionMessage = document.getElementById('instruction-message');

            let activeTab = 'money';

            function switchTab(tabName) {
                activeTab = tabName;

                // 1. 버튼 스타일 업데이트
                tabButtons.forEach(button => {
                    const isActive = button.getAttribute('data-tab') === tabName;
                    
                    if (isActive) {
                        button.classList.add('bg-indigo-600', 'text-white', 'shadow-lg');
                        button.classList.remove('bg-gray-100', 'text-gray-700', 'hover:bg-indigo-50');
                    } else {
                        button.classList.remove('bg-indigo-600', 'text-white', 'shadow-lg');
                        button.classList.add('bg-gray-100', 'text-gray-700', 'hover:bg-indigo-50');
                    }
                });

                // 2. 내용 패널 업데이트
                tabPanes.forEach(pane => {
                    if (pane.id === `content-${tabName}`) {
                        pane.classList.remove('hidden');
                    } else {
                        pane.classList.add('hidden');
                    }
                });

                // 3. 안내 메시지 숨기기 (탭이 선택되면)
                if (instructionMessage) {
                    instructionMessage.classList.add('hidden');
                }
            }

            // 이벤트 리스너 부착
            tabButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const tabName = e.currentTarget.getAttribute('data-tab');
                    switchTab(tabName);
                });
            });

            // 초기 로드 시 'money' (매출) 탭을 즉시 활성화합니다.
            switchTab(activeTab); 
            
            if (instructionMessage) {
                instructionMessage.classList.add('hidden'); 
            }
        });
    </script>
</body>
</html>
